---
- summary: |
    Регистрация нового пользователя с валидными данными
  requirement: |
    Пользователь должен иметь возможность зарегистрироваться с корректным e-mail и паролем
  prerequisites: |
    no-data
  test-data: |
    no-data
  steps:
    - Нажать кнопку 'Зарегистрироваться' (Sign up)
    - Ввести никнейм
    - Ввести e-mail
    - Ввести пароль
    - Подтвердить пароль
    - Нажать кнопку "Зарегистрироваться" (Submit)
  expected-result: |
     Пользователь успешно авторизован и перенаправлен на главную страницу

- summary: |
    Попытка регистрации с незаполненными обязательными полями
  requirement: |
    Система должна предотвращать регистрацию и информировать пользователя о необходимости заполнения обязательных полей
  prerequisites: |
    no-data
  test-data: |
    no-data
  steps:
    - Оставить поля "Nickname", "Email", "Password", "Password Confirmation" пустыми.
    - Нажать кнопку "Зарегистрироваться" (Submit)
  expected-result: |
    Отображается сообщение об обязательности заполнения полей. Пользователь остается на странице регистрации

- summary: |
    Попытка регистрации с невалидным форматом Email
  requirement: |
    Система должна проверять формат Email и предотвращать регистрацию с невалидным Email
  prerequisites: |
    no-data
  test-data: |
    no-data
  steps:
    - Ввести никнейм
    - Ввести в Email данные invalid-email (или test@domain, test.com)
    - Ввести пароль
    - Подтвердить пароль
    - Нажать кнопку "Зарегистрироваться" (Submit)
  expected-result: |
    Регистрация не происходит. Появляется сообщение 'Недопустимый формат e-mail'

- summary: |
    Попытка регистрации, когда значения в полях "Password" и "Password Confirmation" не совпадают
  requirement: |
    Система должна проверять совпадение паролей и предотвращать регистрацию, если они не совпадают
  prerequisites: |
    no-data
  test-data: |
    no-data
  steps:
    - Нажать кнопку регистрации в правом верхнем углу (Sign up)
    - Ввести никнейм
    - Ввести e-mail
    - Ввести пароль
    - Ввести другой Пароль в поле "Password Confirmation"
    - Нажать кнопку "Зарегистрироваться" (Submit)
  expected-result: |
    Регистрация не происходит. Появляется сообщение 'Пароли не совпадают'

- summary: |
    Попытка регистрации с Email, который уже используется другим пользователем
  requirement: |
    Система должна предотвращать регистрацию с дублирующимся Email
  prerequisites: |
    Существует аккаунт с Email: existinguser@example.com
  test-data: |
    no-data
  steps:
    - Нажать кнопку регистрации в правом верхнем углу (Sign up)
    - Ввести никнейм
    - Ввести e-mail: existinguser@example.com
    - Ввести пароль
    - Подтвердить пароль
    - Нажать кнопку "Зарегистрироваться" (Submit)
  expected-result: |
    Регистрация не происходит. Появляется сообщение 'Email уже используется'

- summary: |
    Попытка регистрации с Никнеймом, который уже используется другим пользователем
  requirement: |
    Система должна предотвращать регистрацию с дублирующимся Никнеймом
  prerequisites: |
    Существует аккаунт с Никнеймом: ExistingNickname
  test-data: |
    no-data
  steps:
    - Нажать кнопку регистрации в правом верхнем углу (Sign up)
    - Ввести Никнейм: ExistingNickname
    - Ввести e-mail
    - Ввести пароль
    - Подтвердить пароль
    - Нажать кнопку "Зарегистрироваться" (Submit)
  expected-result: |
    Регистрация не происходит. Появляется сообщение 'Никнейм уже используется'

- summary: |
    Регистрация нового пользователя через Github
  requirement: |
    Пользователь должен иметь возможность зарегистрироваться/войти в систему, используя свой аккаунт Github
  prerequisites: |
    no-data
  test-data: |
    Данные валидного тестового аккаунта Github
  steps:
    - Нажать кнопку регистрации в правом верхнем углу (Sign up)
    - Нажать кнопку "Sign up with Github"
    - Предоставить приложению необходимые разрешения
  expected-result: |
    Пользователь перенаправлен на главную страницу, в профиле указан вход через Github

- summary: |
    Регистрация нового пользователя через аккаунт Discord
  requirement: |
    Пользователь должен иметь возможность зарегистрироваться/войти в систему, используя свой аккаунт Discord
  prerequisites: |
    no-data
  test-data: |
    Данные валидного тестового аккаунта Discord
  steps:
    - Нажать кнопку регистрации в правом верхнем углу (Sign up)
    - Нажать кнопку "Sign up with Discord"
    - Предоставить приложению необходимые разрешения
  expected-result: |
    Пользователь успешно зарегистрирован и авторизован в приложении

- summary: |
    Проверка корректности работы ссылки "Sign In" для перехода на страницу входа
  requirement: |
    Пользователь должен иметь возможность перейти на страницу входа (Sign In) со страницы регистрации (Sign Up)
  prerequisites: |
    Пользователь находится на странице регистрации
  test-data: |
    no-data
  steps:
    - Нажать на ссылку "Sign In" (внизу формы, "If you have an account Sign In")
  expected-result: |
    Пользователь перенаправлен на страницу входа (Sign In). Отображается форма для ввода логина и пароля

- summary: |
    Авторизация пользователя
  requirement: |
    При верном вводе логина и пароля пользователь должен войти в систему
  prerequisites: |
    no-data
  test-data: |
    no-data
  steps:
    - Нажать кнопку авторизации в правом верхнем углу (Sign in)
    - Ввести логин
    - Ввести пароль
    - Нажать кнопку «Войти»
  expected-result: |
     Пользователь успешно авторизован и перенаправлен на главную страницу

- summary: |
    Проверка входа пользователя с несуществующими логином и паролем
  requirement: |
    При неправильном логине или пароле пользователь должен получить сообщение об ошибке
  prerequisites: |
    no-data
  test-data: |
    no-data
  steps:
    - Нажать кнопку авторизации в правом верхнем углу (Sign in)
    - Ввести неверный логин
    - Ввести неверный пароль
    - Нажать кнопку «Войти»
  expected-result: |
    Появляется сообщение об ошибке: 'Неверный логин или пароль'. Пользователь остается на странице входа

- summary: |
    Проверка создания новой игры зарегистрированным пользователем
  requirement: |
    Зарегистрированный пользователь может создавать игру
  prerequisites: |
    no-data
  test-data: |
    no-data
  steps:
    - Нажать "Создать игру"
    - Выбрать уровень сложности
    - Выбрать тип задачи
    - Пригласить бота
  expected-result: |
    Создана новая игра с выбранными параметрами, приглашён соперник

- summary: |
    Проверка приглашения другого пользователя в игру
  requirement: |
    Пользователь может приглашать других пользователей в игру
  prerequisites: |
    no-data
  test-data: |
    no-data
  steps:
    - Пользователь1 создаёт новую игру
    - Пользователь1 приглашает пользователя2
    - Пользователь2 принимает приглашение
  expected-result: |
    Оба пользователя перенаправлены в игровую комнату, где стартовала совместная игра

- summary: |
    Проверка редактирования задачи двумя игроками в реальном времени
  requirement: |
    Система должна обеспечивать одновременное редактирование задачи для двух игроков с отображением кода соперника в реальном времени
  prerequisites: |
    Два пользователя в одной игре, задача открыта
  test-data: |
    no-data
  steps:
    - Игрок1 вносит изменение в свой редактор
    - Игрок2 наблюдает изменение кода соперника
    - Игрок2 вносит изменение в свой редактор
    - Игрок1 наблюдает изменение кода соперника
  expected-result: |
    В обоих редакторах в реальном времени отображаются изменения кода соперника

- summary: |
    Проверка выбора уровня и типа задачи
  requirement: |
    Пользователь может выбирать уровень и тип задачи для соревнования
  prerequisites: |
    no-data
  test-data: |
    no-data
  steps:
    - Нажать "Создать игру"
    - Выбрать уровень "Hard"
    - Выбрать тип задачи "Математика"
    - Пригласить соперника
    - Подтвердить выбор
  expected-result: |
    Создана игра с выбранными типом и уровнем задачи

- summary: |
    Проверка отображения результатов после окончания игры
  requirement: |
    После окончания игры отображается результат
  prerequisites: |
    Пользователь завершил игру (например, сдал задачу или время истекло)
  test-data: |
    no-data
  steps:
    - Завершить игру (правильно решить задачу или дождаться окончания времени)
  expected-result: |
    На экране отображается результат игры (например: победа, поражение, ничья; подробности по баллам и времени)

- summary: |
    Проверка системы рейтингов и отображения лидерборда
  requirement: |
    Присутствует система рейтингов и лидерборд
  prerequisites: |
    Несколько пользователей завершили игры с разными результатами
  test-data: |
    Пользователь1: 5 побед
    Пользователь2: 3 победы
    Пользователь3: 7 побед
  steps:
    - Открыть страницу лидерборда
    - Найти себя в списке
  expected-result: |
    Пользователь видит свои текущие очки и позицию. Рейтинг корректно сортирован
